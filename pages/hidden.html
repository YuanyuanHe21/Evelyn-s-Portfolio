<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Graveyard of Drafts - åºŸç¨¿å…¬å¢“</title>
    
    <style>
        /* =========================================
           1. å­—ä½“ä¸åŸºç¡€è®¾ç½®
           ========================================= */
        @font-face {
            font-family: 'InstrumentSans-Regular';
            src: url('../assets/fonts/InstrumentSans-Regular.ttf') format('truetype');
        }
        @font-face {
            font-family: 'PuHuiTi';
            src: url('../assets/fonts/Alibaba-PuHuiTi-Light.otf') format('opentype');
        }
        @font-face {
            font-family: 'BebasNeue';
            src: url('../assets/fonts/BebasNeueRegular-gxj83.ttf') format('truetype');
        }

        body {
            margin: 0;
            padding: 0;
            background-color: #000; /* é»‘è‰²èƒŒæ™¯ */
            font-family: 'InstrumentSans-Regular', 'PuHuiTi', sans-serif;
            color: #fff;
            overflow-x: hidden;
            min-height: 100vh;
            /* æ·»åŠ è¿‡æ¸¡åŠ¨ç”»ï¼Œç”¨äºé¡µé¢é€€å‡º */
            transition: transform 0.8s cubic-bezier(0.645, 0.045, 0.355, 1);
        }

        /* é¡µé¢ä¸‹æ»‘é€€å‡ºçš„åŠ¨ç”»ç±» (å¯¹åº”ä¸»é¡µçš„ä¸Šæ»‘é€€å‡º) */
        body.slide-down-out {
            transform: translateY(100vh);
        }

        /* å¯¼èˆªæ  */
        .nav-back {
            position: fixed;
            top: 40px;
            left: 40px;
            z-index: 100;
            text-decoration: none;
            font-size: 18px;
            font-weight: bold;
            color: white; 
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0.8;
            transition: opacity 0.3s;
        }
        .nav-back:hover { opacity: 1; text-shadow: 0 0 10px rgba(255,255,255,0.5); }

        /* å£°éŸ³å¼€å…³æŒ‰é’® */
        .sound-toggle {
            position: fixed;
            top: 40px;
            right: 40px;
            z-index: 100;
            background: none;
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 16px;
            opacity: 0.6;
            transition: all 0.3s;
        }
        .sound-toggle:hover {
            opacity: 1;
            background: rgba(255,255,255,0.1);
            border-color: rgba(255,255,255,0.8);
        }

        /* é¡¶éƒ¨æ ‡é¢˜ */
        .header-title {
            text-align: center;
            padding-top: 100px;
            margin-bottom: 60px;
            position: relative;
            z-index: 10;
        }
        .header-title h1 {
            font-family: 'BebasNeue', sans-serif;
            font-size: 64px;
            letter-spacing: 4px;
            margin: 0;
            text-shadow: 0 0 20px rgba(255,255,255,0.2);
        }
        .header-title p {
            font-size: 16px;
            color: #888;
            margin-top: 10px;
        }

        /* =========================================
           2. å¹½çµåŠ¨æ•ˆ
           ========================================= */
        .ghost-container {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; /* ä¸æŒ¡é¼ æ ‡ */
            z-index: 0;
            overflow: hidden;
        }

        .ghost {
            position: absolute;
            font-size: 40px;
            opacity: 0.3;
            filter: blur(1px);
            animation: float-ghost 10s infinite linear;
        }

        @keyframes float-ghost {
            0% { transform: translateY(100vh) translateX(0) rotate(0deg); opacity: 0; }
            20% { opacity: 0.4; }
            80% { opacity: 0.4; }
            100% { transform: translateY(-100px) translateX(50px) rotate(20deg); opacity: 0; }
        }

        /* =========================================
           3. ç€‘å¸ƒæµå¸ƒå±€
           ========================================= */
        .masonry-grid {
            column-count: 4; /* 4åˆ— */
            column-gap: 20px;
            padding: 0 40px 100px;
            max-width: 1600px;
            margin: 0 auto;
            position: relative;
            z-index: 10;
        }

        @media (max-width: 1200px) { .masonry-grid { column-count: 3; } }
        @media (max-width: 800px) { .masonry-grid { column-count: 2; } }
        @media (max-width: 500px) { .masonry-grid { column-count: 1; } }

        .grid-item {
            break-inside: avoid;
            margin-bottom: 20px;
            background: #1a1a1a;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            position: relative;
        }

        .grid-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(255,255,255,0.1);
            z-index: 20;
        }

        .grid-item img {
            width: 100%;
            display: block;
            opacity: 0.8;
            transition: opacity 0.3s;
        }
        .grid-item:hover img { opacity: 1; }

        .item-info {
            padding: 15px;
            font-size: 14px;
            color: #aaa;
        }
        .item-title { font-weight: bold; color: #fff; margin-bottom: 5px; }

        /* å¢“ç¢‘æ ‡è®° */
        .tombstone-mark {
            position: absolute;
            top: 10px; right: 10px;
            font-size: 20px;
            opacity: 0.5;
        }

    </style>
</head>
<body>

    <!-- 1. è¿”å›æŒ‰é’® -->
    <a href="../index.html" class="nav-back">
        <span>â†‘</span> BACK TO LIFE
    </a>

    <!-- 2. å£°éŸ³å¼€å…³ -->
    <button id="sound-btn" class="sound-toggle">ğŸ”‡</button>

    <!-- 3. èƒŒæ™¯éŸ³ä¹ -->
    <audio id="bgm" src="../assets/audio/graveyard.mp3" loop></audio>

    <!-- 4. å¹½çµèƒŒæ™¯ -->
    <div class="ghost-container" id="ghost-bg">
        <!-- JSç”Ÿæˆå¹½çµ -->
    </div>

    <!-- 5. æ ‡é¢˜ -->
    <div class="header-title">
        <h1>GRAVEYARD OF DRAFTS</h1>
        <p>è¿™é‡ŒåŸ‹è‘¬ç€é‚£äº›æ­»å»çš„åˆ›æ„ä¸æ— å¤„å®‰æ”¾çš„è„‘æ´</p>
    </div>

    <!-- 6. åºŸç¨¿å±•ç¤ºåŒº (ç€‘å¸ƒæµ) -->
    <div class="masonry-grid">
        
        <!-- Item 1 -->
        <div class="grid-item">
            <span class="tombstone-mark">ğŸª¦</span>
            <img src="https://placehold.co/400x600/222/666?text=Rejected+Logo+V1" alt="Draft">
            <div class="item-info">
                <div class="item-title">è¢«æ¯™æ‰çš„ Logo æ–¹æ¡ˆä¸€</div>
                <div>ç”²æ–¹è¯´è¿™çœ‹èµ·æ¥åƒä¸ªç…è›‹</div>
            </div>
        </div>

        <!-- Item 2 -->
        <div class="grid-item">
            <span class="tombstone-mark">ğŸ‘»</span>
            <img src="https://placehold.co/400x300/333/777?text=Crazy+Doodle" alt="Draft">
            <div class="item-info">
                <div class="item-title">å‡Œæ™¨3ç‚¹çš„æ¶‚é¸¦</div>
                <div>å½“æ—¶è§‰å¾—è‡ªå·±æ˜¯ä¸ªå¤©æ‰ï¼Œé†’æ¥å‘ç°æ˜¯ç–¯å­</div>
            </div>
        </div>

        <!-- Item 3 -->
        <div class="grid-item">
            <span class="tombstone-mark">âš°ï¸</span>
            <img src="https://placehold.co/400x500/2a2a2a/888?text=Unfinished+Poster" alt="Draft">
            <div class="item-info">
                <div class="item-title">æœªå®Œæˆçš„æµ·æŠ¥</div>
                <div>ç”»åˆ°ä¸€åŠè½¯ä»¶å´©äº†ï¼Œé‚å¼ƒä¹‹</div>
            </div>
        </div>

        <!-- Item 4 -->
        <div class="grid-item">
            <span class="tombstone-mark">ğŸ¥€</span>
            <img src="https://placehold.co/400x400/111/555?text=Glitch+Art" alt="Draft">
            <div class="item-info">
                <div class="item-title">Glitch å°è¯•</div>
                <div>çº¯ç²¹çš„å®£æ³„</div>
            </div>
        </div>

        <!-- Item 5 -->
        <div class="grid-item">
            <span class="tombstone-mark">ğŸ¦´</span>
            <img src="https://placehold.co/400x700/1f1f1f/999?text=Character+Sketch" alt="Draft">
            <div class="item-info">
                <div class="item-title">è§’è‰²è‰å›¾</div>
                <div>å¤ªä¸‘äº†ï¼Œæ²¡æ•¢æ”¾è¿›ä½œå“é›†</div>
            </div>
        </div>

        <!-- Item 6 -->
        <div class="grid-item">
            <span class="tombstone-mark">ğŸŒ«ï¸</span>
            <img src="https://placehold.co/400x350/222/666?text=Random+Shape" alt="Draft">
            <div class="item-info">
                <div class="item-title">ä¸çŸ¥åç‰©ä½“</div>
                <div>???</div>
            </div>
        </div>

    </div>

    <script>
        // åŠ¨æ€ç”ŸæˆèƒŒæ™¯å¹½çµ
        const ghostContainer = document.getElementById('ghost-bg');
        const ghosts = ['ğŸ‘»', 'ğŸ’€', 'â˜ ï¸', 'ğŸ˜¶â€ğŸŒ«ï¸', 'ğŸ•¯ï¸'];

        function createGhost() {
            const el = document.createElement('div');
            el.classList.add('ghost');
            el.innerText = ghosts[Math.floor(Math.random() * ghosts.length)];
            
            // éšæœºä½ç½®å’ŒåŠ¨ç”»å‚æ•°
            const left = Math.random() * 100;
            const duration = 10 + Math.random() * 10; // 10-20s
            const delay = Math.random() * 5;
            const size = 20 + Math.random() * 40;

            el.style.left = `${left}%`;
            el.style.animationDuration = `${duration}s`;
            el.style.animationDelay = `-${delay}s`; 
            el.style.fontSize = `${size}px`;

            ghostContainer.appendChild(el);
        }

        for(let i=0; i<15; i++) {
            createGhost();
        }

        // ============================
        // éŸ³ä¹æ§åˆ¶é€»è¾‘
        // ============================
        const bgm = document.getElementById('bgm');
        const soundBtn = document.getElementById('sound-btn');
        let isPlaying = false;

        // å°è¯•æ’­æ”¾å‡½æ•°
        function tryPlayMusic() {
            bgm.volume = 0.4; // éŸ³é‡è°ƒå°ä¸€ç‚¹ï¼Œä¸è¦å¤ªå“äºº
            bgm.play().then(() => {
                isPlaying = true;
                soundBtn.innerText = 'ğŸ”Š';
                // æˆåŠŸæ’­æ”¾åï¼Œç§»é™¤å…¨å±€ç‚¹å‡»ç›‘å¬ï¼Œé¿å…é‡å¤è§¦å‘
                document.removeEventListener('click', tryPlayMusic);
            }).catch(e => {
                console.log("Autoplay prevented, waiting for user interaction");
                // å¦‚æœè‡ªåŠ¨æ’­æ”¾å¤±è´¥ï¼Œä¿æŒé™éŸ³å›¾æ ‡ï¼Œç­‰å¾…ç”¨æˆ·æ‰‹åŠ¨ç‚¹å‡»æŒ‰é’®
            });
        }

        // 1. é¡µé¢åŠ è½½åå°è¯•è‡ªåŠ¨æ’­æ”¾ (éƒ¨åˆ†æµè§ˆå™¨å…è®¸)
        tryPlayMusic();

        // 2. å¦‚æœè‡ªåŠ¨æ’­æ”¾å¤±è´¥ï¼Œç”¨æˆ·ç‚¹å‡»é¡µé¢ä»»ä½•åœ°æ–¹æ—¶å¼€å§‹æ’­æ”¾ (æ›´ç¨³å¦¥)
        document.addEventListener('click', tryPlayMusic, { once: true });

        // 3. æŒ‰é’®æ‰‹åŠ¨æ§åˆ¶
        soundBtn.addEventListener('click', (e) => {
            e.stopPropagation(); // é˜²æ­¢è§¦å‘å…¨å±€ç‚¹å‡»
            if (isPlaying) {
                bgm.pause();
                soundBtn.innerText = 'ğŸ”‡';
                isPlaying = false;
            } else {
                bgm.play();
                soundBtn.innerText = 'ğŸ”Š';
                isPlaying = true;
            }
        });

        // ============================
        // ä¸Šæ»‘è¿”å›ä¸»é¡µé€»è¾‘ (Reverse Gravity)
        // ============================
        let isNavigatingBack = false;

        // å¤„ç† bfcache (Safari/Chrome åé€€ç¼“å­˜)ï¼Œç¡®ä¿è¿”å›æ—¶åŠ¨ç”»é‡ç½®
        window.addEventListener('pageshow', (event) => {
            if (event.persisted) {
                isNavigatingBack = false;
                document.body.classList.remove('slide-down-out');
            }
        });

        window.addEventListener('wheel', (e) => {
            if (isNavigatingBack) return;

            // e.deltaY < 0 è¡¨ç¤ºå‘ä¸Šæ»šåŠ¨ (Pull down)
            // é˜ˆå€¼ -50 é¿å…è¯¯è§¦
            // window.scrollY <= 0 ç¡®ä¿ç”¨æˆ·æ˜¯åœ¨é¡µé¢æœ€é¡¶ç«¯å°è¯•ä¸Šæ»‘
            if (e.deltaY < -50 && window.scrollY <= 0) {
                isNavigatingBack = true;
                
                // è§¦å‘é¡µé¢å‘ä¸‹æ‰è½åŠ¨ç”»
                document.body.classList.add('slide-down-out');

                // å»¶è¿Ÿè·³è½¬
                setTimeout(() => {
                    window.location.href = "../index.html";
                }, 800);
            }
        });

    </script>

</body>
</html>